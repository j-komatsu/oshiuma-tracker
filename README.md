# 推しウマ記録アプリ 🐎

競馬ファンが「推しの競走馬」を記録・応援することに特化した、スマートフォン推奨のPWA（Progressive Web App）です。

## 🚀 今すぐ使う

### 📱 アプリにアクセス
**[👉 推しウマ記録アプリを開く](https://j-komatsu.github.io/oshiuma-tracker/)**

### 📲 PWAアプリとしてインストール

#### 🤖 Android（Chrome）
1. 上記リンクからアプリにアクセス
2. アドレスバーの**「インストール」**ボタンをタップ
3. 「インストール」を選択
4. ホーム画面にアプリアイコンが追加されます

#### 🍎 iPhone/iPad（Safari）
1. 上記リンクからアプリにアクセス
2. 画面下部の**共有ボタン（□↗）**をタップ
3. **「ホーム画面に追加」**を選択
4. 「追加」をタップ
5. ホーム画面にアプリアイコンが追加されます

#### 💻 デスクトップ（Chrome/Edge）
1. 上記リンクからアプリにアクセス
2. アドレスバー右側の**「アプリをインストール」**アイコンをクリック
3. 「インストール」を選択
4. デスクトップアプリとして利用可能

### ✨ PWAの特徴
- 🔄 **オフライン動作**: インターネットなしでも利用可能
- 📱 **ネイティブアプリ体験**: ホーム画面から直接起動
- 🚀 **高速起動**: 瞬時にアプリが開きます
- 💾 **自動更新**: 新機能が自動で追加されます

## 📱 特徴

- **スマートフォン推奨設計**: タッチ操作に最適化されたUI/UX
- **PWA対応**: ホーム画面に追加してアプリのように使用可能
- **オフライン動作**: インターネット接続がなくても利用可能
- **ローカル保存**: すべてのデータは端末内に安全に保存
- **カメラ連携**: 直接撮影した写真を保存可能

## 🎯 主な機能

### 推しウマ管理
- 推しの競走馬の登録・編集・削除
- 馬名、応援コメント、画像、JRA成績URLの保存
- 検索・フィルター機能

### 応援記録
- レース観戦記録の追加・編集
- 調教見学や思い出の記録
- 日付別の履歴表示

### 画像機能
- 複数画像の保存・表示
- 自動画像圧縮（容量最適化）
- カメラ撮影からの直接取り込み
- 画像拡大表示

### JRA連携
- JRA成績ページへの安全なリンク
- モーダル表示による外部サイト警告

## 🚀 インストール方法

### デスクトップブラウザ
1. アプリにアクセス
2. アドレスバーの「インストール」ボタンをクリック
3. 「アプリをインストール」を選択

### スマートフォン（推奨）

#### Android（Chrome）
1. アプリにアクセス
2. メニュー（⋮）→「ホーム画面に追加」
3. 「インストール」をタップ

#### iOS（Safari）
1. アプリにアクセス
2. 共有ボタン（□↗）→「ホーム画面に追加」
3. 「追加」をタップ

## 💾 データについて

### 保存方式
- **ローカル保存**: すべてのデータは端末内のlocalStorageに保存
- **共有不可**: 他の端末やユーザーとのデータ共有はできません
- **バックアップ**: ブラウザのデータクリア時にデータが失われる可能性があります

### 画像処理
- **自動圧縮**: アップロード時に最大800x600px、品質80%に自動調整
- **容量制限**: 1画像あたり約500KB以下に制限
- **形式**: JPEG形式で保存

## 🛠️ 技術仕様

### 対応ブラウザ
- Chrome（Android/Desktop）
- Safari（iOS/macOS）
- Firefox（Android/Desktop）
- Edge（Desktop）

### 必要な環境
- HTTPS環境（PWA要件）
- モダンブラウザ（ES6対応）
- カメラアクセス権限（写真撮影時）

### 使用技術
- **フロントエンド**: Vanilla JavaScript, HTML5, CSS3
- **PWA**: Service Worker, Web App Manifest
- **ストレージ**: localStorage
- **画像処理**: Canvas API

## 📋 使用方法

### 1. 推しウマの登録
1. トップページの「＋ 新規登録」をタップ
2. 馬名を入力（必須）
3. 応援コメント、JRA URL、画像を追加
4. 「保存」をタップ

### 2. 応援記録の追加
1. 推しウマの詳細画面を開く
2. 「＋ 記録追加」をタップ
3. 記録タイプ（レース/調教/その他）を選択
4. タイトル、日付、内容を入力
5. 「保存」をタップ

### 3. 検索・閲覧
- トップページの検索バーで馬名やコメントを検索
- カードをタップして詳細画面へ移動
- 画像をタップして拡大表示

## ⚠️ 注意事項

### データの取り扱い
- データは端末にのみ保存され、外部に送信されません
- ブラウザのキャッシュクリア時にデータが失われる可能性があります
- 定期的なスクリーンショットでのバックアップを推奨します

### JRA成績ページについて
- JRAサイトはiframe表示できないため、モーダル経由で新しいタブで開きます
- 外部サイトアクセス時は注意メッセージが表示されます

### パフォーマンス
- 画像を多数保存すると動作が重くなる場合があります
- 必要に応じて古い画像の削除を検討してください

## 🔧 開発者向け情報

### ファイル構成
```
oshiuma-tracker/
├── index.html          # メイン画面
├── detail.html         # 詳細画面
├── style.css           # スタイルシート
├── script.js           # アプリケーションロジック
├── manifest.json       # PWA設定
├── serviceWorker.js    # Service Worker
├── images/             # アイコン画像
│   ├── icon-192.png
│   └── icon-512.png
└── task/               # 開発タスク管理
    ├── 00_task_overview.md
    ├── 01_core_features.md
    ├── 02_enhancements.md
    ├── 03_assets_docs.md
    └── 04_data_structure.md
```

### データ構造
```javascript
{
  "horses": [
    {
      "id": "uuid",
      "name": "馬名",
      "comment": "応援コメント",
      "jraUrl": "JRA URL",
      "images": [{ "id": "uuid", "data": "base64", "caption": "", "createdAt": "ISO date" }],
      "records": [{ "id": "uuid", "type": "race|training|other", "title": "", "content": "", "date": "", "createdAt": "ISO date" }],
      "createdAt": "ISO date",
      "updatedAt": "ISO date"
    }
  ]
}
```

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

バグ報告や機能要望は、GitHubのIssuesでお知らせください。

---

**🐎 推しウマへの愛を記録し、応援の気持ちを大切に保存しましょう！**